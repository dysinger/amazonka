<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.AWS.SNS.V2010_03_31.Publish</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-AWS-SNS-V2010_03_31-Publish.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">amazonka-0.1.0.0: Comprehensive Amazon Web Services SDK</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.AWS.SNS.V2010_03_31.Publish</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Sends a message to all of a topic's subscribed endpoints. When a messageId
 is returned, the message has been saved and Amazon SNS will attempt to
 deliver it to the topic's subscribers shortly. The format of the outgoing
 message to each subscribed endpoint depends on the notification protocol
 selected. To use the Publish action for sending a message to a mobile
 endpoint, such as an app on a Kindle device or mobile phone, you must
 specify the EndpointArn. The EndpointArn is returned when making a call
 with the CreatePlatformEndpoint action. The second example below shows a
 request and response for publishing to a mobile endpoint. The following
 example publishes the same message to all protocols:
 http:/<em>sns.us-east-1.amazonaws.com</em> ?Subject=My%20first%20message
 &amp;amp;TopicArn=arn%3Aaws%3Asns%3Aus-east-1%3A698519295917%3AMy-Topic
 &amp;amp;Message=Hello%20world%21 &amp;amp;Action=Publish &amp;amp;SignatureVersion=2
 &amp;amp;SignatureMethod=HmacSHA256 &amp;amp;Timestamp=2010-03-31T12%3A00%3A00.000Z
 &amp;amp;AWSAccessKeyId=AKIAIOSFODNN7EXAMPLE
 &amp;amp;Signature=9GZysQ4Jpnz%2BHklqM7VFTvEcjR2LIUtn6jW47054xxE%3D Use the
 following JSON object format for the Message parameter to send different
 messages to each protocol (linebreaks added for readability): { &quot;default&quot; :
 &quot;some message&quot;, &quot;email&quot; : &quot;some email message&quot;, &quot;email-json&quot; : &quot;some
 email-json message&quot;, &quot;http&quot; : &quot;some http message&quot;, &quot;https&quot; : &quot;some https
 message&quot;, &quot;sqs&quot; : &quot;some sqs message&quot; } &amp;lt;PublishResponse
 xmlns=&quot;<a href="http://sns.amazonaws.com/doc/2010-03-31/&quot;&amp;gt;">http://sns.amazonaws.com/doc/2010-03-31/&quot;&amp;gt;</a> &amp;lt;PublishResult&amp;gt;
 &amp;lt;MessageId&amp;gt;94f20ce6-13c5-43a0-9a9e-ca52d816e90b&amp;lt;/MessageId&amp;gt;
 &amp;lt;/PublishResult&amp;gt; &amp;lt;ResponseMetadata&amp;gt;
 &amp;lt;RequestId&amp;gt;f187a3c1-376f-11df-8963-01868b7c937a&amp;lt;/RequestId&amp;gt;
 &amp;lt;<em>ResponseMetadata&amp;gt; &amp;lt;</em>PublishResponse&amp;gt; POST
 http:/<em>sns.us-west-2.amazonaws.com</em> HTTP/1.1 ... Action=Publish
 &amp;amp;Message=%7B%22default%22%3A%22This+is+the+default+Message%22%2C%22APNS_SANDBOX%22%3A%22%7B+%5C%22aps%5C%22+%3A+%7B+%5C%22alert%5C%22+%3A+%5C%22You+have+got+email.%5C%22%2C+%5C%22badge%5C%22+%3A+9%2C%5C%22sound%5C%22+%3A%5C%22default%5C%22%7D%7D%22%7D</p><p>&amp;amp;TargetArn=arn%3Aaws%3Asns%3Aus-west-2%3A803981987763%3Aendpoint%2FAPNS_SANDBOX%2Fpushapp%2F98e9ced9-f136-3893-9d60-776547eafebb
 &amp;amp;SignatureMethod=HmacSHA256 &amp;amp;AWSAccessKeyId=AKIAIOSFODNN7EXAMPLE
 &amp;amp;SignatureVersion=2 &amp;amp;Version=2010-03-31
 &amp;amp;Signature=vmqc4XRupKAxsDAdN4j4Ayw5LQljXMps3kss4bkDfCk%3D
 &amp;amp;Timestamp=2013-07-18T22%3A44%3A09.452Z &amp;amp;MessageStructure=json
 HTTP/1.1 200 OK ... &amp;lt;PublishResponse
 xmlns=&quot;<a href="http://sns.amazonaws.com/doc/2010-03-31/&quot;&amp;gt;">http://sns.amazonaws.com/doc/2010-03-31/&quot;&amp;gt;</a> &amp;lt;PublishResult&amp;gt;
 &amp;lt;MessageId&amp;gt;567910cd-659e-55d4-8ccb-5aaf14679dc0&amp;lt;/MessageId&amp;gt;
 &amp;lt;/PublishResult&amp;gt; &amp;lt;ResponseMetadata&amp;gt;
 &amp;lt;RequestId&amp;gt;d74b8436-ae13-5ab4-a9ff-ce54dfea72a0&amp;lt;/RequestId&amp;gt;
 &amp;lt;<em>ResponseMetadata&amp;gt; &amp;lt;</em>PublishResponse&amp;gt;.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:publish">publish</a> :: <a href="Network-AWS-Prelude.html#t:Text">Text</a> -&gt; <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Publish">Publish</a> = <a href="#v:Publish">Publish</a> {<ul class="subs"><li><a href="#v:_piMessage">_piMessage</a> :: <a href="Network-AWS-Prelude.html#t:Text">Text</a></li><li><a href="#v:_piMessageAttributes">_piMessageAttributes</a> :: <a href="Network-AWS-Prelude.html#t:HashMap">HashMap</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a> <a href="Network-AWS-SNS-V2010_03_31-Types.html#t:MessageAttributeValue">MessageAttributeValue</a></li><li><a href="#v:_piMessageStructure">_piMessageStructure</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></li><li><a href="#v:_piTargetArn">_piTargetArn</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></li><li><a href="#v:_piSubject">_piSubject</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></li><li><a href="#v:_piTopicArn">_piTopicArn</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></li></ul>}</li><li class="src short"><a href="#v:piTopicArn">piTopicArn</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</li><li class="src short"><a href="#v:piTargetArn">piTargetArn</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</li><li class="src short"><a href="#v:piSubject">piSubject</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</li><li class="src short"><a href="#v:piMessageStructure">piMessageStructure</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</li><li class="src short"><a href="#v:piMessageAttributes">piMessageAttributes</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="Network-AWS-Prelude.html#t:HashMap">HashMap</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a> <a href="Network-AWS-SNS-V2010_03_31-Types.html#t:MessageAttributeValue">MessageAttributeValue</a>)</li><li class="src short"><a href="#v:piMessage">piMessage</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PublishResponse">PublishResponse</a> = <a href="#v:PublishResponse">PublishResponse</a> {<ul class="subs"><li><a href="#v:_prMessageId">_prMessageId</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></li></ul>}</li><li class="src short"><a href="#v:prMessageId">prMessageId</a> :: Iso' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:PublishResponse">PublishResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:publish" class="def">publish</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Network-AWS-Prelude.html#t:Text">Text</a></td><td class="doc"><p><code><a href="Network-AWS-SNS-V2010_03_31-Publish.html#v:_piMessage">_piMessage</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Minimum specification for a <code><a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></code> request.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Publish" class="def">Publish</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Publish" class="def">Publish</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_piMessage" class="def">_piMessage</a> :: <a href="Network-AWS-Prelude.html#t:Text">Text</a></dt><dd class="doc"><p>The message you want to send to the topic. If you want to send
 the same message to all transport protocols, include the text of
 the message as a String value. If you want to send different
 messages for each transport protocol, set the value of the
 MessageStructure parameter to json and use a JSON object for the
 Message parameter. See the Examples section for the format of the
 JSON object. Constraints: Messages must be UTF-8 encoded strings
 at most 256 KB in size (262144 bytes, not 262144 characters).
 JSON-specific constraints: Keys in the JSON object that
 correspond to supported transport protocols must have simple JSON
 string values. The values will be parsed (unescaped) before they
 are used in outgoing messages. Outbound notifications are JSON
 encoded (meaning that the characters will be reescaped for
 sending). Values have a minimum length of 0 (the empty string,
 &quot;&quot;, is allowed). Values have a maximum length bounded by the
 overall message size (so, including multiple protocols may limit
 message sizes). Non-string values will cause the key to be
 ignored. Keys that do not correspond to supported transport
 protocols are ignored. Duplicate keys are not allowed. Failure to
 parse or validate any key or value in the message will cause the
 Publish call to return an error (no partial delivery).</p></dd><dt class="src"><a name="v:_piMessageAttributes" class="def">_piMessageAttributes</a> :: <a href="Network-AWS-Prelude.html#t:HashMap">HashMap</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a> <a href="Network-AWS-SNS-V2010_03_31-Types.html#t:MessageAttributeValue">MessageAttributeValue</a></dt><dd class="doc"><p>Message attributes for Publish action.</p></dd><dt class="src"><a name="v:_piMessageStructure" class="def">_piMessageStructure</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></dt><dd class="doc"><p>Set MessageStructure to json if you want to send a different
 message for each protocol. For example, using one publish action,
 you can send a short message to your SMS subscribers and a longer
 message to your email subscribers. If you set MessageStructure to
 json, the value of the Message parameter must: be a syntactically
 valid JSON object; and contain at least a top-level JSON key of
 &quot;default&quot; with a value that is a string. You can define other
 top-level keys that define the message you want to send to a
 specific transport protocol (e.g., &quot;http&quot;). For information about
 sending different messages for each protocol using the AWS
 Management Console, go to Create Different Messages for Each
 Protocol in the Amazon Simple Notification Service Getting
 Started Guide. Valid value: json.</p></dd><dt class="src"><a name="v:_piTargetArn" class="def">_piTargetArn</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></dt><dd class="doc"><p>Either TopicArn or EndpointArn, but not both.</p></dd><dt class="src"><a name="v:_piSubject" class="def">_piSubject</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></dt><dd class="doc"><p>Optional parameter to be used as the <a href="Subject.html">Subject</a> line when the
 message is delivered to email endpoints. This field will also be
 included, if present, in the standard JSON messages delivered to
 other endpoints. Constraints: Subjects must be ASCII text that
 begins with a letter, number, or punctuation mark; must not
 include line breaks or control characters; and must be less than
 100 characters long.</p></dd><dt class="src"><a name="v:_piTopicArn" class="def">_piTopicArn</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></dt><dd class="doc"><p>The topic you want to publish to.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Publish" class="caption collapser" onclick="toggleSection('i:Publish')">Instances</p><div id="section.i:Publish" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-AWS-Prelude.html#t:Generic">Generic</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-AWS-Data-Query.html#t:ToQuery">ToQuery</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-AWS-Types.html#t:AWSRequest">AWSRequest</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/GHC-Generics.html#t:Rep">Rep</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Network-AWS-Types.html#t:Sv">Sv</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> = <a href="Network-AWS-SNS-V2010_03_31-Types.html#t:SNS">SNS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Network-AWS-Types.html#t:Rs">Rs</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> = <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:PublishResponse">PublishResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:piTopicArn" class="def">piTopicArn</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</p></div><div class="top"><p class="src"><a name="v:piTargetArn" class="def">piTargetArn</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</p></div><div class="top"><p class="src"><a name="v:piSubject" class="def">piSubject</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</p></div><div class="top"><p class="src"><a name="v:piMessageStructure" class="def">piMessageStructure</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</p></div><div class="top"><p class="src"><a name="v:piMessageAttributes" class="def">piMessageAttributes</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> (<a href="Network-AWS-Prelude.html#t:HashMap">HashMap</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a> <a href="Network-AWS-SNS-V2010_03_31-Types.html#t:MessageAttributeValue">MessageAttributeValue</a>)</p></div><div class="top"><p class="src"><a name="v:piMessage" class="def">piMessage</a> :: Lens' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:Publish">Publish</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:PublishResponse" class="def">PublishResponse</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:PublishResponse" class="def">PublishResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_prMessageId" class="def">_prMessageId</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a></dt><dd class="doc"><p>Unique identifier assigned to the published message. Length
 Constraint: Maximum 100 characters.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:PublishResponse" class="caption collapser" onclick="toggleSection('i:PublishResponse')">Instances</p><div id="section.i:PublishResponse" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:PublishResponse">PublishResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-AWS-Prelude.html#t:Generic">Generic</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:PublishResponse">PublishResponse</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/GHC-Generics.html#t:Rep">Rep</a> <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:PublishResponse">PublishResponse</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:prMessageId" class="def">prMessageId</a> :: Iso' <a href="Network-AWS-SNS-V2010_03_31-Publish.html#t:PublishResponse">PublishResponse</a> (<a href="http://hackage.haskell.org/packages/archive/base/4.7.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-AWS-Prelude.html#t:Text">Text</a>)</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.2</p></div></body></html>